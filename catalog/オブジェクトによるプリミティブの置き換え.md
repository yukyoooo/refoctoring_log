# オブジェクトによるプリミティブの置き換え

## 手順
1. [変数のカプセル化](変数のカプセル化.md)ができていないならば、施す
2. データ値のための単純な値クラスを作る。既存の値をコンストラクタで受け取り、値を返すgetterを用意する
3. 静的チェックを実行する
4. 値クラスのインスタンスを作るようにsetterを変更し、インスタンスのフィールドに値を格納するようにする。必要に応じてその型を変える
5. getterを変更し、値クラスのgetterの呼び出し結果を返すようにする
6. テストする
7. 処理内容がよりわかるように、元のアクセサに[関数名の変更](関数名の変更.md)の適用を検討する
8. 新たなオブジェクトの役割が値オブジェクトなのか参照オブジェクトなのかを明確にすることを検討する。検討の結果、値オブジェクトにするなら[参照から値への変更](参照から値への変更.md)を施す。参照オブジェクトにするなら[値から参照への変更](値から参照への変更.md)を施す


```js
orders.filter(o => "high" === o.priority || "rush" === o.priority);
```
↓
```js
orders.filter(o => o.priority.higherThan(new Priority("normal")))
```