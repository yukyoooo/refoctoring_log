# 変数のカプセル化

## 手順
1. 変数を参照・更新するためのカプセル化関数を作る
2. 静的チェックを実行する
3. 変数への参照を、一つひとつ適切なカプセル化関数の呼び出しに置き換える。置き換えるごとにテストする
4. 変数の可視性を制限する
   - 変数への直接アクセスを防げないことがよくある。その場合、変数名を変更してテストすることで、置き換えが漏れた参照を見つけることができる
5. 変数の値がレコードの場合、[レコードカプセル化](/catalog/レコードのカプセル化.md)を検討する

```js
let defaultOwner = {firstName: "Martin", lastName: "Fowler"};
```
　↓
```js
let defaultOwnerData = {firstName: "Martin", lastName: "Fowler"};
export function defaultOwner() {return defaultOwnerData;}
export function setDefaultOwner(arg) {defaultOwnerData = arg;}
```