# ステートメントの呼び出し側への移動

## 手順
1. 呼び出し川が一つか二つで、呼び出される関数が単純な場合は、その関数から最初の行をカットして、呼び出し側にペーストする。テストすれば終わりである
2. 呼び出し川が多い場合は、「移動したくない」すべてのステートメント群を対象に[関数の抽出](関数の抽出.md)を行う。一時的な、しかし簡単に検索できる名前をつける
   - 関数がサブクラスによってオーバーライドされるメソッドの場合は、それらのメソッド全てに対してこの抽出を行い、残すべきメソッドがすべてのクラスで同じになるようにする。それが終わったら、サブクラスで抽出したメソッドを削除する
3. 元の関数に対して[関数のインライン化](関数のインライン化.md)を行う
4. 抽出した関数に[関数宣言の変更](関数宣言の変更.md)を行なって元の名前に変更する
   - もし思いつくなら、より良い名前に変更する

```js
emitPhotoData(outStream, person.photo);

function emitPhotoData(outStream, photo) {
	outStream.write(`<p>title: ${photo.title}</p>\n`);
	outStream.write(`<p>location: ${photo.location}</p>\n`);
}
```
↓
```js
emitPhotoData(outStream, person.photo);
outStream.write(`<p>location: ${person.photo.location}</p>\n`)

function emitPhotoData(outStream, photo) {
	outStream.write(`<p>title: ${photo.title}</p>\n`);
}
```