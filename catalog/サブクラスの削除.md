# サブクラスの削除

## 手順
1. 当該サブクラスのコンストラクタに[ファクトリ関数によるコンストラクタの置き換え](ファクトリ関数によるコンストラクタの置き換え.md)を適用する
   - コンストラクタのクライアントがデータフィールドを使用してどのサブクラスを生成するかを判定している場合、その判定ロジックをスーパークラスのファクトリメソッドに入れる
2. サブクラスのタイプを判定しているコードがあるなら、そのタイプ判定に[関数の抽出](関数の抽出.md)を適用し、さらに[関数の移動](関数の移動.md)を適用してその処理をスーパークラスに移動する。変更が終わるたびにテストする
3. サブクラスのタイプを表すフィールドを作成する
4. サブクラスを参照しているメソッドを、この新しいタイプフィールドを使用するように変更する
5. サブクラスを削除する
6. テストする

```js
class Person{
	get genderCode() {return "X";}
}
class Male extends Person {
	get genderCode() {return "M";}
}
class Female extends Person {
	get genderCode() {return "F";}
}
```
↓
```js
class Person {
	get genderCode() {return this._genderCode;}
}
```